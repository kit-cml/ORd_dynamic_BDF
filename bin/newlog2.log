recompile
Clean.
rm -rf *.o bin/drug_sim
rm -rf **/*.o
nvcc -x cu  -I/usr/local/cuda/include -dc -arch=sm_86 -o cellmodels/Ohara_Rudy_cipa_v1_2017.o cellmodels/Ohara_Rudy_cipa_v1_2017.cpp
nvcc -x cu  -I/usr/local/cuda/include -dc -arch=sm_86 -o modules/glob_funct.o modules/glob_funct.cpp
nvcc -x cu  -I/usr/local/cuda/include -dc -arch=sm_86 -o modules/glob_type.o modules/glob_type.cpp
nvcc -x cu  -I/usr/local/cuda/include -dc -arch=sm_86 -o modules/param.o modules/param.cpp
nvcc -o bin/drug_sim cellmodels/Ohara_Rudy_cipa_v1_2017.o modules/glob_funct.o modules/glob_type.o modules/param.o modules/cipa_t.cu modules/gpu.cu modules/gpu_glob_type.cu main.cu -g -L/usr/local/cuda/lib64 -arch=sm_86 -rdc=true
modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

modules/gpu.cu(97): warning #550-D: variable "t_peak_capture" was set but never used
      double t_peak_capture = 0.0;
             ^

modules/gpu.cu(109): warning #550-D: variable "vm_repol50" was set but never used
      double vm_repol30, vm_repol50, vm_repol90;
                         ^

modules/gpu.cu(110): warning #177-D: variable "t_depol" was declared but never referenced
      double t_depol;
             ^

modules/gpu.cu(111): warning #177-D: variable "t_ca_peak" was declared but never referenced
      double t_ca_peak, ca_amp50, ca_amp90;
             ^

modules/gpu.cu(111): warning #177-D: variable "ca_amp50" was declared but never referenced
      double t_ca_peak, ca_amp50, ca_amp90;
                        ^

modules/gpu.cu(111): warning #177-D: variable "ca_amp90" was declared but never referenced
      double t_ca_peak, ca_amp50, ca_amp90;
                                  ^

modules/gpu.cu(398): warning #550-D: variable "is_peak" was set but never used
      bool is_peak = false;
           ^

modules/gpu.cu(439): warning #177-D: variable "dutta" was declared but never referenced
      bool dutta = p_param->is_dutta;
           ^

modules/gpu.cu(447): warning #550-D: variable "t_peak_capture" was set but never used
      double t_peak_capture = 0.0;
             ^

modules/gpu.cu(448): warning #177-D: variable "pace_steepest" was declared but never referenced
      unsigned short pace_steepest = 0;
                     ^

modules/gpu.cu(454): warning #177-D: variable "qinward" was declared but never referenced
       double inet,qinward;
                   ^

modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

main.cu(466): warning #549-D: variable "d_STATES_RESULT" is used before its value is set
                                                    d_STATES_RESULT, d_all_states, d_herg,
                                                    ^

main.cu(466): warning #549-D: variable "d_all_states" is used before its value is set
                                                    d_STATES_RESULT, d_all_states, d_herg,
                                                                     ^

main.cu(799): warning #549-D: variable "d_STATES_cache" is used before its value is set
        kernel_DrugSimulation<<<block,thread>>>(d_ic50, d_cvar, d_CONSTANTS, d_STATES, d_STATES_cache, d_RATES, d_ALGEBRAIC,
                                                                                       ^

main.cu(801): warning #549-D: variable "time" is used before its value is set
                                                  time, states, dt, cai_result,
                                                  ^

main.cu(801): warning #549-D: variable "states" is used before its value is set
                                                  time, states, dt, cai_result,
                                                        ^

main.cu(801): warning #549-D: variable "dt" is used before its value is set
                                                  time, states, dt, cai_result,
                                                                ^

main.cu(801): warning #549-D: variable "cai_result" is used before its value is set
                                                  time, states, dt, cai_result,
                                                                    ^

main.cu(802): warning #549-D: variable "ina" is used before its value is set
                                                  ina, inal,
                                                  ^

main.cu(802): warning #549-D: variable "inal" is used before its value is set
                                                  ina, inal,
                                                       ^

main.cu(803): warning #549-D: variable "ical" is used before its value is set
                                                  ical, ito,
                                                  ^

main.cu(803): warning #549-D: variable "ito" is used before its value is set
                                                  ical, ito,
                                                        ^

main.cu(804): warning #549-D: variable "ikr" is used before its value is set
                                                  ikr, iks,
                                                  ^

main.cu(804): warning #549-D: variable "iks" is used before its value is set
                                                  ikr, iks,
                                                       ^

main.cu(805): warning #549-D: variable "ik1" is used before its value is set
                                                  ik1,
                                                  ^

modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

main.cu(466): warning #549-D: variable "d_STATES_RESULT" is used before its value is set
                                                    d_STATES_RESULT, d_all_states, d_herg,
                                                    ^

main.cu(466): warning #549-D: variable "d_all_states" is used before its value is set
                                                    d_STATES_RESULT, d_all_states, d_herg,
                                                                     ^

main.cu(316): warning #177-D: variable "CALCIUM_SCALING" was declared but never referenced
          static const int CALCIUM_SCALING = 1000000;
                           ^

main.cu(317): warning #177-D: variable "CURRENT_SCALING" was declared but never referenced
          static const int CURRENT_SCALING = 1000;
                           ^

main.cu(799): warning #549-D: variable "d_STATES_cache" is used before its value is set
        kernel_DrugSimulation<<<block,thread>>>(d_ic50, d_cvar, d_CONSTANTS, d_STATES, d_STATES_cache, d_RATES, d_ALGEBRAIC,
                                                                                       ^

main.cu(801): warning #549-D: variable "time" is used before its value is set
                                                  time, states, dt, cai_result,
                                                  ^

main.cu(801): warning #549-D: variable "states" is used before its value is set
                                                  time, states, dt, cai_result,
                                                        ^

main.cu(801): warning #549-D: variable "dt" is used before its value is set
                                                  time, states, dt, cai_result,
                                                                ^

main.cu(801): warning #549-D: variable "cai_result" is used before its value is set
                                                  time, states, dt, cai_result,
                                                                    ^

main.cu(802): warning #549-D: variable "ina" is used before its value is set
                                                  ina, inal,
                                                  ^

main.cu(802): warning #549-D: variable "inal" is used before its value is set
                                                  ina, inal,
                                                       ^

main.cu(803): warning #549-D: variable "ical" is used before its value is set
                                                  ical, ito,
                                                  ^

main.cu(803): warning #549-D: variable "ito" is used before its value is set
                                                  ical, ito,
                                                        ^

main.cu(804): warning #549-D: variable "ikr" is used before its value is set
                                                  ikr, iks,
                                                  ^

main.cu(804): warning #549-D: variable "iks" is used before its value is set
                                                  ikr, iks,
                                                       ^

main.cu(805): warning #549-D: variable "ik1" is used before its value is set
                                                  ik1,
                                                  ^

run in-silico
Simulation mode -- sample-based
Hill File -- ./drugs/bepridil/IC50_samples100.csv
Herg File -- ./herg/bepridil.csv
Celltype -- 0
Is_Dutta -- true
Is_Cvar -- false
Is_Print_Graph -- true
Is_Using_Output -- false
Basic_Cycle_Length -- 1000.000000
GPU_Index -- 0
Number_of_Pacing -- 2
Pace_Find_Steepest -- 1
Time_Step -- 0.005000
Drug_Name -- bepridil
Concentrations -- 0.000000


In-silico mode, creating cache file because we don't have that yet, or is_time_series is intentionally false 

Sample size: 100
herg check:
5594000.000000, 0.000172, 0.937400, 147200000.000000, -61.340000, 0.000000, 
preparing GPU memory space 
Copying sample files to GPU memory space 
Timer started, doing simulation.... 
 GPU Usage at this moment: 
GPU No 0
Free Memory: 24714084352, Total Memory: 25289621504 (97.724217 percent free)
GPU No 1
Free Memory: 24862982144, Total Memory: 25289621504 (98.312986 percent free)
Sample size: 100

   Configuration: 

	block	||	thread
---------------------------------------
  	4	||	32


allocating memory for computation result in the CPU, malloc style 
...allocating for all states, all set!
copying the data back to the CPU 
Directory created
writing to ./result/0.00.csv ... 
Elapsed time: 0.122619s
---------------------
run post-processing
./run_insilico_postpro.sh: line 22: 38516 Killed                  "./drug_sim" -input_deck ./input_deck.txt -hill_file ./drugs/$drugname/IC50_samples100.csv -init_file ./result/$formatted_concentration.csv -herg_file ./herg/$drugname.csv
