recompile
Clean.
rm -rf *.o bin/drug_sim
rm -rf **/*.o
nvcc -x cu  -I/usr/local/cuda/include -dc -arch=sm_86 -o cellmodels/Ohara_Rudy_cipa_v1_2017.o cellmodels/Ohara_Rudy_cipa_v1_2017.cpp
nvcc -x cu  -I/usr/local/cuda/include -dc -arch=sm_86 -o modules/glob_funct.o modules/glob_funct.cpp
nvcc -x cu  -I/usr/local/cuda/include -dc -arch=sm_86 -o modules/glob_type.o modules/glob_type.cpp
nvcc -x cu  -I/usr/local/cuda/include -dc -arch=sm_86 -o modules/param.o modules/param.cpp
nvcc -o bin/drug_sim cellmodels/Ohara_Rudy_cipa_v1_2017.o modules/glob_funct.o modules/glob_type.o modules/param.o modules/cipa_t.cu modules/gpu.cu modules/gpu_glob_type.cu main.cu -g -L/usr/local/cuda/lib64 -arch=sm_86 -rdc=true
modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

modules/gpu.cu(97): warning #550-D: variable "t_peak_capture" was set but never used
      double t_peak_capture = 0.0;
             ^

modules/gpu.cu(109): warning #550-D: variable "vm_repol50" was set but never used
      double vm_repol30, vm_repol50, vm_repol90;
                         ^

modules/gpu.cu(110): warning #177-D: variable "t_depol" was declared but never referenced
      double t_depol;
             ^

modules/gpu.cu(111): warning #177-D: variable "t_ca_peak" was declared but never referenced
      double t_ca_peak, ca_amp50, ca_amp90;
             ^

modules/gpu.cu(111): warning #177-D: variable "ca_amp50" was declared but never referenced
      double t_ca_peak, ca_amp50, ca_amp90;
                        ^

modules/gpu.cu(111): warning #177-D: variable "ca_amp90" was declared but never referenced
      double t_ca_peak, ca_amp50, ca_amp90;
                                  ^

modules/gpu.cu(400): warning #550-D: variable "is_peak" was set but never used
      bool is_peak = false;
           ^

modules/gpu.cu(441): warning #177-D: variable "dutta" was declared but never referenced
      bool dutta = p_param->is_dutta;
           ^

modules/gpu.cu(449): warning #550-D: variable "t_peak_capture" was set but never used
      double t_peak_capture = 0.0;
             ^

modules/gpu.cu(450): warning #177-D: variable "pace_steepest" was declared but never referenced
      unsigned short pace_steepest = 0;
                     ^

modules/gpu.cu(456): warning #177-D: variable "qinward" was declared but never referenced
       double inet,qinward;
                   ^

modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

main.cu(466): warning #549-D: variable "d_STATES_RESULT" is used before its value is set
                                                    d_STATES_RESULT, d_all_states, d_herg,
                                                    ^

main.cu(466): warning #549-D: variable "d_all_states" is used before its value is set
                                                    d_STATES_RESULT, d_all_states, d_herg,
                                                                     ^

main.cu(799): warning #549-D: variable "d_STATES_cache" is used before its value is set
        kernel_DrugSimulation<<<block,thread>>>(d_ic50, d_cvar, d_CONSTANTS, d_STATES, d_STATES_cache, d_RATES, d_ALGEBRAIC,
                                                                                       ^

main.cu(801): warning #549-D: variable "time" is used before its value is set
                                                  time, states, dt, cai_result,
                                                  ^

main.cu(801): warning #549-D: variable "states" is used before its value is set
                                                  time, states, dt, cai_result,
                                                        ^

main.cu(801): warning #549-D: variable "dt" is used before its value is set
                                                  time, states, dt, cai_result,
                                                                ^

main.cu(801): warning #549-D: variable "cai_result" is used before its value is set
                                                  time, states, dt, cai_result,
                                                                    ^

main.cu(802): warning #549-D: variable "ina" is used before its value is set
                                                  ina, inal,
                                                  ^

main.cu(802): warning #549-D: variable "inal" is used before its value is set
                                                  ina, inal,
                                                       ^

main.cu(803): warning #549-D: variable "ical" is used before its value is set
                                                  ical, ito,
                                                  ^

main.cu(803): warning #549-D: variable "ito" is used before its value is set
                                                  ical, ito,
                                                        ^

main.cu(804): warning #549-D: variable "ikr" is used before its value is set
                                                  ikr, iks,
                                                  ^

main.cu(804): warning #549-D: variable "iks" is used before its value is set
                                                  ikr, iks,
                                                       ^

main.cu(805): warning #549-D: variable "ik1" is used before its value is set
                                                  ik1,
                                                  ^

modules/cipa_t.cuh(12): warning #1866-D: attribute does not apply to any entity
  __attribute__((global)) struct cipa_t{
                 ^

Remark: The warnings can be suppressed with "-diag-suppress <warning-number>"

main.cu(466): warning #549-D: variable "d_STATES_RESULT" is used before its value is set
                                                    d_STATES_RESULT, d_all_states, d_herg,
                                                    ^

main.cu(466): warning #549-D: variable "d_all_states" is used before its value is set
                                                    d_STATES_RESULT, d_all_states, d_herg,
                                                                     ^

main.cu(316): warning #177-D: variable "CALCIUM_SCALING" was declared but never referenced
          static const int CALCIUM_SCALING = 1000000;
                           ^

main.cu(317): warning #177-D: variable "CURRENT_SCALING" was declared but never referenced
          static const int CURRENT_SCALING = 1000;
                           ^

main.cu(799): warning #549-D: variable "d_STATES_cache" is used before its value is set
        kernel_DrugSimulation<<<block,thread>>>(d_ic50, d_cvar, d_CONSTANTS, d_STATES, d_STATES_cache, d_RATES, d_ALGEBRAIC,
                                                                                       ^

main.cu(801): warning #549-D: variable "time" is used before its value is set
                                                  time, states, dt, cai_result,
                                                  ^

main.cu(801): warning #549-D: variable "states" is used before its value is set
                                                  time, states, dt, cai_result,
                                                        ^

main.cu(801): warning #549-D: variable "dt" is used before its value is set
                                                  time, states, dt, cai_result,
                                                                ^

main.cu(801): warning #549-D: variable "cai_result" is used before its value is set
                                                  time, states, dt, cai_result,
                                                                    ^

main.cu(802): warning #549-D: variable "ina" is used before its value is set
                                                  ina, inal,
                                                  ^

main.cu(802): warning #549-D: variable "inal" is used before its value is set
                                                  ina, inal,
                                                       ^

main.cu(803): warning #549-D: variable "ical" is used before its value is set
                                                  ical, ito,
                                                  ^

main.cu(803): warning #549-D: variable "ito" is used before its value is set
                                                  ical, ito,
                                                        ^

main.cu(804): warning #549-D: variable "ikr" is used before its value is set
                                                  ikr, iks,
                                                  ^

main.cu(804): warning #549-D: variable "iks" is used before its value is set
                                                  ikr, iks,
                                                       ^

main.cu(805): warning #549-D: variable "ik1" is used before its value is set
                                                  ik1,
                                                  ^

run in-silico
Simulation mode -- sample-based
Hill File -- ./drugs/bepridil/IC50_samples100.csv
Herg File -- ./herg/bepridil.csv
Celltype -- 0
Is_Dutta -- true
Is_Cvar -- false
Is_Print_Graph -- true
Is_Using_Output -- false
Basic_Cycle_Length -- 1000.000000
GPU_Index -- 0
Number_of_Pacing -- 2
Pace_Find_Steepest -- 1
Time_Step -- 0.005000
Drug_Name -- bepridil
Concentrations -- 0.000000


In-silico mode, creating cache file because we don't have that yet, or is_time_series is intentionally false 

Sample size: 100
herg check:
5594000.000000, 0.000172, 0.937400, 147200000.000000, -61.340000, 0.000000, 
preparing GPU memory space 
Copying sample files to GPU memory space 
Timer started, doing simulation.... 
 GPU Usage at this moment: 
GPU No 0
Free Memory: 23962058752, Total Memory: 25756696576 (93.032342 percent free)
Sample size: 100

   Configuration: 

	block	||	thread
---------------------------------------
  	4	||	32


Calculating 64
Calculating 65
Calculating 66
Calculating 67
Calculating 68
Calculating 69
Calculating 70
Calculating 71
Calculating 72
Calculating 73
Calculating 74
Calculating 75
Calculating 76
Calculating 77
Calculating 78
Calculating 79
Calculating 80
Calculating 81
Calculating 82
Calculating 83
Calculating 84
Calculating 85
Calculating 86
Calculating 87
Calculating 88
Calculating 89
Calculating 90
Calculating 91
Calculating 92
Calculating 93
Calculating 94
Calculating 95
Calculating 96
Calculating 97
Calculating 98
Calculating 99
Calculating 100
Calculating 101
Calculating 102
Calculating 103
Calculating 104
Calculating 105
Calculating 106
Calculating 107
Calculating 108
Calculating 109
Calculating 110
Calculating 111
Calculating 112
Calculating 113
Calculating 114
Calculating 115
Calculating 116
Calculating 117
Calculating 118
Calculating 119
Calculating 120
Calculating 121
Calculating 122
Calculating 123
Calculating 124
Calculating 125
Calculating 126
Calculating 127
Calculating 0
Calculating 1
Calculating 2
Calculating 3
Calculating 4
Calculating 5
Calculating 6
Calculating 7
Calculating 8
Calculating 9
Calculating 10
Calculating 11
Calculating 12
Calculating 13
Calculating 14
Calculating 15
Calculating 16
Calculating 17
Calculating 18
Calculating 19
Calculating 20
Calculating 21
Calculating 22
Calculating 23
Calculating 24
Calculating 25
Calculating 26
Calculating 27
Calculating 28
Calculating 29
Calculating 30
Calculating 31
Calculating 32
Calculating 33
Calculating 34
Calculating 35
Calculating 36
Calculating 37
Calculating 38
Calculating 39
Calculating 40
Calculating 41
Calculating 42
Calculating 43
Calculating 44
Calculating 45
Calculating 46
Calculating 47
Calculating 48
Calculating 49
Calculating 50
Calculating 51
Calculating 52
Calculating 53
Calculating 54
Calculating 55
Calculating 56
Calculating 57
Calculating 58
Calculating 59
Calculating 60
Calculating 61
Calculating 62
Calculating 63
Core 64:
Core 65:
Core 66:
Core 67:
Core 68:
Core 69:
Core 70:
Core 71:
Core 72:
Core 73:
Core 74:
Core 75:
Core 76:
Core 77:
Core 78:
Core 79:
Core 80:
Core 81:
Core 82:
Core 83:
Core 84:
Core 85:
Core 86:
Core 87:
Core 88:
Core 89:
Core 90:
Core 91:
Core 92:
Core 93:
Core 94:
Core 95:
Core 96:
Core 97:
Core 98:
Core 99:
Core 100:
Core 101:
Core 102:
Core 103:
Core 104:
Core 105:
Core 106:
Core 107:
Core 108:
Core 109:
Core 110:
Core 111:
Core 112:
Core 113:
Core 114:
Core 115:
Core 116:
Core 117:
Core 118:
Core 119:
Core 120:
Core 121:
Core 122:
Core 123:
Core 124:
Core 125:
Core 126:
Core 127:
Core 0:
Core 1:
Core 2:
Core 3:
Core 4:
Core 5:
Core 6:
Core 7:
Core 8:
Core 9:
Core 10:
Core 11:
Core 12:
Core 13:
Core 14:
Core 15:
Core 16:
Core 17:
Core 18:
Core 19:
Core 20:
Core 21:
Core 22:
Core 23:
Core 24:
Core 25:
Core 26:
Core 27:
Core 28:
Core 29:
Core 30:
Core 31:
Core 32:
Core 33:
Core 34:
Core 35:
Core 36:
Core 37:
Core 38:
Core 39:
Core 40:
Core 41:
Core 42:
Core 43:
Core 44:
Core 45:
Core 46:
Core 47:
Core 48:
Core 49:
Core 50:
Core 51:
Core 52:
Core 53:
Core 54:
Core 55:
Core 56:
Core 57:
Core 58:
Core 59:
Core 60:
Core 61:
Core 62:
Core 63:
./run_insilico_postpro.sh: line 14: 295285 Killed                  "./drug_sim" -input_deck ./input_deck.txt -hill_file ./drugs/$drugname/IC50_samples100.csv -herg_file ./herg/$drugname.csv
---------------------
run post-processing
./run_insilico_postpro.sh: line 22: 295796 Killed                  "./drug_sim" -input_deck ./input_deck.txt -hill_file ./drugs/$drugname/IC50_samples100.csv -init_file ./result/$formatted_concentration.csv -herg_file ./herg/$drugname.csv
